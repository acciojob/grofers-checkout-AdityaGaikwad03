<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <table style="width: 100%">
    <caption>
      Monthly savings
    </caption>
    <tr>
      <th>Item</th>
      <th>Prices in Rs</th>
    </tr>
    <tr>
      <td class="item">Tea</td>
      <td class="price">50</td>
    </tr>
    <tr>
      <td class="item">Coffee</td>
      <td class="price">70</td>
    </tr>
    <tr>
      <td class="item">Biscuits</td>
      <td class="price">100</td>
    </tr>
    <tr>
      <td class="item">Rice</td>
      <td class="price">130</td>
    </tr>
    <tr>
      <td class="item">Milk</td>
      <td class="price">50</td>
    </tr>
  </table>

  <script type="text/javascript">
    const getSumBtn = document.createElement("button");
    getSumBtn.append("Get Total Price");
    document.body.appendChild(getSumBtn);

    const getSum = () => {
      const priceCells = document.querySelectorAll(".price");
      let total = 0;

      priceCells.forEach(cell => {
        total += parseInt(cell.textContent);
      });

      // remove old total row if it exists
      const oldTotal = document.querySelector("#ans");
      if (oldTotal) {
        oldTotal.parentElement.remove();
      }

      // create new row
      const table = document.querySelector("table");
      const newRow = document.createElement("tr");
      const newCell = document.createElement("td");
      newCell.colSpan = 2;
      newCell.style.fontWeight = "bold";
      newCell.id = "ans"; // âœ… important for Cypress test
      newCell.textContent = total;
      newRow.appendChild(newCell);
      table.appendChild(newRow);
    };

    getSumBtn.addEventListener("click", getSum);
  </script>
</body>
</html>
